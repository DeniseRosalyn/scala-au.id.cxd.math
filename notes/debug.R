d1 <- c(2.06133180060984, 0.898926649890006, 
        1.8675976088232014, 
        -0.8446810761897462, 
        1.0926608416766443, 
        -0.45721269261646774, 
        0.705192458103366, 
        -2.0070862269095797, 
        1.2863950334632828, 
        -1.4258836515496631, 
        -1.8133520351229415, 
        -0.06974430904318926, 
        0.1239898827434491, 
        0.3177240745300875, 
        -0.6509468844031078, 
        1.480129225249923, 
        -0.6509468844031078, 
        -0.2634785008298294, 
        0.5114582663167275, 
        -0.6509468844031078, 
        -0.06974430904318926, 
        0.3177240745300875, 0.705192458103366, 0.3177240745300875, 0.898926649890006, 1.2863950334632828, 1.6738634170365612, 1.480129225249923, 0.1239898827434491, -0.45721269261646774, -0.8446810761897462, -0.8446810761897462, -0.2634785008298294, 0.1239898827434491, -1.0384152679763845, 0.1239898827434491, 1.480129225249923, 0.705192458103366, -0.6509468844031078, -0.8446810761897462, -0.8446810761897462, 0.3177240745300875, -0.2634785008298294, -1.8133520351229415, -0.6509468844031078, -0.45721269261646774, -0.45721269261646774, 0.5114582663167275, 
        -1.619617843336303, 
        -0.45721269261646774)
mean(d1)

sum(d1)

n1 <- length(d1)
total <- as.double(0.0)
for(i in 1:length(d1)) {
  total <- total + as.double(d1[i])
}
total
# why is sum different to total?
sum(d1)

# why are these the same?
(total2 <- Reduce("+",d1[1:49] ))
(sum(d1[1:49]))

d2 <- as.double(d1)
(total3 <- Reduce("+",d2[1:49]))
sum(d2[1:49])

# why are these difference
(Reduce("+",d2[1:49]) + d2[n1])
sum(d2[1:49]) + d2[n1]

# why are these the same?
dtest <- -0.4572126

(Reduce("+",d2[1:49]) + dtest)
sum(d2[1:49]) + dtest

(total3 <- Reduce("+",d2))
sum(d2)

d

mean(d1)

total/n1


# the difference is due to the precision and rounding that occurs in very small numbers.
d3 <- round(d1,6)
# these are the same with reduced precision
(total4 <- Reduce("+",d3))
sum(d3)

